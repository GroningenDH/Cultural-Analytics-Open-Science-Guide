<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Melanie Walsh">

<title>Cultural Analytics Open Science Guide - 26&nbsp; Web Scraping — Part 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" rel="next">
<link href="../code/09-User-Ethics-Legal-Concerns.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Web Scraping — Part 1</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../" class="sidebar-logo-link">
      <img src="../images/dh_gro_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Cultural Analytics Open Science Guide</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="" title="Personal account" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-person-fill"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://signon.rug.nl/nidp/app/login?id=100&amp;sid=2&amp;option=credential&amp;sid=2">
          Login to your student account
          </a>
        </li>
    </ul>
    <a href="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://www.rug.nl/research/research-let/expertisecentra/centre-for-digital-humanities/" title="Center for Digital Humanities - University of Groningen" class="sidebar-tool px-1"><i class="bi bi-house"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/00-Datasets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/version_control.html" class="sidebar-item-text sidebar-link">Version Control</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/01-The-Command-Line.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Command Line</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/README_file.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">README file</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-workflow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">General Workflow of a Version Control System (VCS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/12-Git-GitHub.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Git and GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/set-up-git-and-github.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Create a GitHub Account</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/github-flow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Github Flow</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-commit.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">The <code>git commit</code> Command</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-compare.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Retrieving and Comparing Versions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-branches.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Branches and Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-merge.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Merging Branches in Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-interactive.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Interactive, Visual Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-github.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Git Commands to Work on GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/the-clone-wars.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">The Clone Wars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Git Summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Version Control for Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/02-Data-Analysis.html" class="sidebar-item-text sidebar-link">Data Analysis (Pandas)</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/03-Pandas-Basics-Part1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/03.5-Pandas-Basics-Part1-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Pandas Basics Part 1 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/04-Pandas-Basics-Part2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/04.5-Pandas-Basics-Part2-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Pandas Basics Part 2 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/05-Pandas-Basics-Part3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/05.5-Pandas-Basics-Part3-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Pandas Basics Part 3 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/06-Pandas-Basics-More-Methods-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Pandas Basics — More Useful Methods — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/07-Pandas-Merge-Datasets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Pandas — Merge Datasets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/08-Data-Collection.html" class="sidebar-item-text sidebar-link">Data Collection</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/09-User-Ethics-Legal-Concerns.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Users’ Data: Legal &amp; Ethical Considerations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/10-Web-Scraping-Part1.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Web Scraping — Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Web Scraping Part 1 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/11-Web-Scraping-Part2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Web Scraping — Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/11.5-Web-Scraping-Part2-Workbook.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Web Scraping — Part 2 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/13-What-Is-API.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Application Programming Interfaces (APIs)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/13.5-APIs-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">APIs — Workbook</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Data collection examples</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/14-Song-Genius.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Song Genius Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/15-Genius-API.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Song Genius API</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/16-Collect-Genius-Lyrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Song Lyrics Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/17-Lyrics-Analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Song Lyrics Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/18-Twitter.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Twitter Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/19-Twitter-API-Setup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Twitter API Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/20-Twitter-Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Twitter Data Collection &amp; Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/21-Twitter-Data-Sharing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Twitter Data Sharing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/22-Reddit-Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Reddit Data Collection and Analysis with PSAW</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/Collecting-Data-Group-6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">100 Historical Spanish Newspaper Editions</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Exploratory Data Analysis (in-depth)</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/23-Data-Types-and-Quality.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Data Types and Quality of the Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/24-Changing-Numerical-Variable-Data-Types.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Tips for recognizing the data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/25-Changing-Categorical-Variable-Data-Type.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Categorical Variable Data Type</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/26-Data-Information.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Data Information</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/27-EDA-Summary-Statistics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">46</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis and Summary Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/28-Association-Between-Variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">47</span>&nbsp; <span class="chapter-title">Association between variables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#why-do-we-need-to-scrape-at-all" id="toc-why-do-we-need-to-scrape-at-all" class="nav-link active" data-scroll-target="#why-do-we-need-to-scrape-at-all"><span class="toc-section-number">26.1</span>  Why Do We Need To Scrape At All?</a></li>
  <li><a href="#responses-and-requests" id="toc-responses-and-requests" class="nav-link" data-scroll-target="#responses-and-requests"><span class="toc-section-number">26.2</span>  Responses and Requests</a>
  <ul>
  <li><a href="#import-requests" id="toc-import-requests" class="nav-link" data-scroll-target="#import-requests"><span class="toc-section-number">26.2.1</span>  Import Requests</a></li>
  <li><a href="#get-html-data" id="toc-get-html-data" class="nav-link" data-scroll-target="#get-html-data"><span class="toc-section-number">26.2.2</span>  Get HTML Data</a></li>
  <li><a href="#http-status-code" id="toc-http-status-code" class="nav-link" data-scroll-target="#http-status-code"><span class="toc-section-number">26.2.3</span>  HTTP Status Code</a></li>
  <li><a href="#extract-text-from-web-page" id="toc-extract-text-from-web-page" class="nav-link" data-scroll-target="#extract-text-from-web-page"><span class="toc-section-number">26.2.4</span>  Extract Text From Web Page</a></li>
  <li><a href="#extract-text-from-multiple-web-pages" id="toc-extract-text-from-multiple-web-pages" class="nav-link" data-scroll-target="#extract-text-from-multiple-web-pages"><span class="toc-section-number">26.2.5</span>  Extract Text From Multiple Web Pages</a></li>
  </ul></li>
  <li><a href="#web-scraping" id="toc-web-scraping" class="nav-link" data-scroll-target="#web-scraping"><span class="toc-section-number">26.3</span>  Web Scraping</a></li>
  <li><a href="#html" id="toc-html" class="nav-link" data-scroll-target="#html"><span class="toc-section-number">26.4</span>  HTML</a>
  <ul>
  <li><a href="#html-tags" id="toc-html-tags" class="nav-link" data-scroll-target="#html-tags"><span class="toc-section-number">26.4.1</span>  HTML Tags</a></li>
  <li><a href="#html-attributes-classes-and-ids" id="toc-html-attributes-classes-and-ids" class="nav-link" data-scroll-target="#html-attributes-classes-and-ids"><span class="toc-section-number">26.4.2</span>  HTML Attributes, Classes, and IDs</a></li>
  </ul></li>
  <li><a href="#beautifulsoup" id="toc-beautifulsoup" class="nav-link" data-scroll-target="#beautifulsoup"><span class="toc-section-number">26.5</span>  BeautifulSoup</a>
  <ul>
  <li><a href="#extract-html-element" id="toc-extract-html-element" class="nav-link" data-scroll-target="#extract-html-element"><span class="toc-section-number">26.5.1</span>  Extract HTML Element</a></li>
  <li><a href="#extract-multiple-html-elements" id="toc-extract-multiple-html-elements" class="nav-link" data-scroll-target="#extract-multiple-html-elements"><span class="toc-section-number">26.5.2</span>  Extract Multiple HTML Elements</a></li>
  </ul></li>
  <li><a href="#inspect-html-elements-with-browser" id="toc-inspect-html-elements-with-browser" class="nav-link" data-scroll-target="#inspect-html-elements-with-browser"><span class="toc-section-number">26.6</span>  Inspect HTML Elements with Browser</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn"><span class="toc-section-number">26.7</span>  Your Turn!</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Web Scraping — Part 1</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source" data-quarto-source-url="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Melanie Walsh </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p><em>Inspired by web scraping lessons from <a href="https://github.com/laurenfklein/emory-qtm340/blob/master/notebooks/class4-web-scraping-complete.ipynb">Lauren Klein</a> and <a href="https://github.com/aparrish/dmep-python-intro/blob/master/scraping-html.ipynb">Allison Parrish</a></em></p>
<p>In this series of lessons, we’re going to introduce how to “scrape” data from the internet with the Python libraries requests and BeautifulSoup.</p>
<p>We will cover how to:</p>
<ul>
<li>Programmatically access the text of a web page</li>
<li>Understand the basics of HTML</li>
<li>Extract certain HTML elements</li>
</ul>
<section id="why-do-we-need-to-scrape-at-all" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="why-do-we-need-to-scrape-at-all"><span class="header-section-number">26.1</span> Why Do We Need To Scrape At All?</h2>
<p>To understand the significance of web scraping, let’s walk through the likely data collection process behind <a href="https://pudding.cool/2017/03/film-dialogue/">“Film Dialogue from 2,000 screenplays, Broken Down by Gender and Age”</a>.</p>
<p>To find their 2,000 screenplays, Hannah Andersen and Matt Daniels consulted a number of already existing sources — one of which was the <a href="http://www.cs.cornell.edu/~cristian/Cornell_Movie-Dialogs_Corpus.html">Cornell Movie Dialogues Corpus</a>. This is a corpus created by Cornell CIS professors Cristian Danescu-Niculescu-Mizil and Lillian Lee for their paper <a href="http://www.cs.cornell.edu/~cristian/papers/chameleons.pdf">“Chameleons in imagined conversations”</a>. Go Big Red!</p>
<p>These researchers helpfully shared a dataset of every URL that they used to find and access the screenplays in their own project.</p>
<p><strong>Import Pandas</strong></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:48:47.607114Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:48:47.601020Z&quot;}" data-execution_count="28">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Read in CSV file</strong></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:11.842270Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:11.820105Z&quot;}" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>urls <span class="op">=</span> pd.read_csv(<span class="st">"../data/cornell-movie-corpus/raw_script_urls.csv"</span>, delimiter<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>, encoding<span class="op">=</span><span class="st">'utf=8'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Display DataFrame</strong></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:13.791279Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:13.762872Z&quot;}" data-tags="[&quot;output_scroll&quot;]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>urls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>movie_title</th>
      <th>script_url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>m0</td>
      <td>10 things i hate about you</td>
      <td>http://www.dailyscript.com/scripts/10Things.html</td>
    </tr>
    <tr>
      <th>1</th>
      <td>m1</td>
      <td>1492: conquest of paradise</td>
      <td>http://www.hundland.org/scripts/1492-Conquest...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>m2</td>
      <td>15 minutes</td>
      <td>http://www.dailyscript.com/scripts/15minutes....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>m3</td>
      <td>2001: a space odyssey</td>
      <td>http://www.scifiscripts.com/scripts/2001.txt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>m4</td>
      <td>48 hrs.</td>
      <td>http://www.awesomefilm.com/script/48hours.txt</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>612</th>
      <td>m612</td>
      <td>watchmen</td>
      <td>http://www.scifiscripts.com/scripts/wtchmn.txt</td>
    </tr>
    <tr>
      <th>613</th>
      <td>m613</td>
      <td>xxx</td>
      <td>http://www.dailyscript.com/scripts/xXx.txt</td>
    </tr>
    <tr>
      <th>614</th>
      <td>m614</td>
      <td>x-men</td>
      <td>http://www.scifiscripts.com/scripts/xmenthing...</td>
    </tr>
    <tr>
      <th>615</th>
      <td>m615</td>
      <td>young frankenstein</td>
      <td>http://www.horrorlair.com/scripts/young.txt</td>
    </tr>
    <tr>
      <th>616</th>
      <td>m616</td>
      <td>zulu dawn</td>
      <td>http://www.aellea.com/script/zuludawn.txt</td>
    </tr>
  </tbody>
</table>
<p>617 rows × 3 columns</p>
</div>
</div>
</div>
<p>Each movie title in this CSV file is paired with a URL for the screenplay. How can we actually use these URLs to get computationally tractable text data?</p>
<p>Though we could manually navigate to each URL and copy/paste each screenplay into a file, that would be suuuuper slow and painstaking, and we would lose crucial data in the process —&nbsp;information that might help us automatically distinguish the title of the movie from the screenplay itself, for example. It would be much better to programmatically access the text data attached to every URL.</p>
</section>
<section id="responses-and-requests" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="responses-and-requests"><span class="header-section-number">26.2</span> Responses and Requests</h2>
<p>To programmatically access the text data attached to every URL, we can use a Python library called <a href="https://requests.readthedocs.io/en/master/">requests</a>.</p>
<p>When you type in a URL in your search address bar, you’re sending an HTTP <strong>request</strong> for a web page, and the server which stores that web page will accordingly send back a <strong>response</strong>, some web page data that your browser will render.</p>
<p><img src="../images/request-response.png" class="center" width="700" height="400"></p>
<section id="import-requests" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="import-requests"><span class="header-section-number">26.2.1</span> Import Requests</h3>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:10.835489Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:10.756186Z&quot;}" data-execution_count="2">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="get-html-data" class="level3" data-number="26.2.2">
<h3 data-number="26.2.2" class="anchored" data-anchor-id="get-html-data"><span class="header-section-number">26.2.2</span> Get HTML Data</h3>
<p>With the <code>.get()</code> method, we can request to “get” web page data for a specific URL, which we will store in a varaible called <code>response</code>.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:19.486836Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:18.259147Z&quot;}" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"http://www.scifiscripts.com/scripts/Ghostbusters.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="http-status-code" class="level3" data-number="26.2.3">
<h3 data-number="26.2.3" class="anchored" data-anchor-id="http-status-code"><span class="header-section-number">26.2.3</span> HTTP Status Code</h3>
<p>If we check out <code>response</code>, it will simply tell us its <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">HTTP response code</a>, aka whether the request was successful or not.</p>
<p>“200” is a successful response, while “404” is a common “Page Not Found” error.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:19.523668Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:19.518177Z&quot;}" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>&lt;Response [200]&gt;</code></pre>
</div>
</div>
<p>Let’s see what happens if we change the title of the movie from <em>Ghostbusters</em> to <em>Ghostboogers</em> in the URL…</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:20.814440Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:20.530847Z&quot;}" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>bad_response <span class="op">=</span> requests.get(<span class="st">"http://www.scifiscripts.com/scripts/Ghostboogers.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:20.881209Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:20.875882Z&quot;}" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>bad_response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>&lt;Response [404]&gt;</code></pre>
</div>
</div>
<p><img src="../images/Ghostboogers.png" class="center" width="900" height="400"></p>
</section>
<section id="extract-text-from-web-page" class="level3" data-number="26.2.4">
<h3 data-number="26.2.4" class="anchored" data-anchor-id="extract-text-from-web-page"><span class="header-section-number">26.2.4</span> Extract Text From Web Page</h3>
<p>To actually get at the text data in the reponse, we need to use <code>.text</code>, which we will save in a variable called <code>html_string</code>. The text data that we’re getting is formatted in the HTML markup language, which we will talk more about in the BeautifulSoup section below.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:22.820816Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:22.814651Z&quot;}" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>html_string <span class="op">=</span> response.text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here’s the screenplay now in a variable.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:44:48.340966Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:44:48.334531Z&quot;}" data-scrolled="true" data-tags="[&quot;output_scroll&quot;]" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(html_string[:<span class="dv">500</span>] <span class="op">+</span> <span class="st">"..."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        Ghostbusters

                            by
                        Harold Ramis
                            and
                        Dan Aykroyd

                    Final Shooting Script
                Last revised October 7, 1983


                                            FADE IN

EXT. NEW YORK PUBLIC LIBRARY -- DAY

The sun shines brightly on the classic facade of the main library at Fifth
Avenue and 42nd Street.  In the adjacent park area, pretty hustlers and
drug peddlers go about their business.

FRONT STEPS

A few people lounge on the steps flanked by the familiar stone lions.

INT. MAI...</code></pre>
</div>
</div>
</section>
<section id="extract-text-from-multiple-web-pages" class="level3" data-number="26.2.5">
<h3 data-number="26.2.5" class="anchored" data-anchor-id="extract-text-from-multiple-web-pages"><span class="header-section-number">26.2.5</span> Extract Text From Multiple Web Pages</h3>
<p>Let’s quickly demonstrate how we might extract the screenplay text for every URL in the DataFrame. To do so, we’re going to create a smaller DataFrame from the Cornell Movie Dialogue Corpus, which consists of the first 10 movies.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:45:53.449951Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:45:53.445431Z&quot;}" data-execution_count="17">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sample_urls <span class="op">=</span> urls[:<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:45:53.728896Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:45:53.711895Z&quot;}" data-tags="[&quot;output_scroll&quot;]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sample_urls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>movie_title</th>
      <th>script_url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>m0</td>
      <td>10 things i hate about you</td>
      <td>http://www.dailyscript.com/scripts/10Things.html</td>
    </tr>
    <tr>
      <th>1</th>
      <td>m1</td>
      <td>1492: conquest of paradise</td>
      <td>http://www.hundland.org/scripts/1492-Conquest...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>m2</td>
      <td>15 minutes</td>
      <td>http://www.dailyscript.com/scripts/15minutes....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>m3</td>
      <td>2001: a space odyssey</td>
      <td>http://www.scifiscripts.com/scripts/2001.txt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>m4</td>
      <td>48 hrs.</td>
      <td>http://www.awesomefilm.com/script/48hours.txt</td>
    </tr>
    <tr>
      <th>5</th>
      <td>m5</td>
      <td>the fifth element</td>
      <td>http://www.scifiscripts.com/scripts/5thelemen...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>m6</td>
      <td>8mm</td>
      <td>http://www.dailyscript.com/scripts/eight-mill...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>m7</td>
      <td>a nightmare on elm street 4: the dream master</td>
      <td>http://www.hundland.org/scripts/A-Nightmare-o...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>m8</td>
      <td>a nightmare on elm street: the dream child</td>
      <td>http://www.hundland.org/scripts/A-Nightmare-o...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>m9</td>
      <td>the atomic submarine</td>
      <td>http://leonscripts.tripod.com/scripts/ATOMICS...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We’re going to make a function called <code>scrape_screenplay()</code> that includes our <code>requests.get()</code> and <code>response.text</code> code.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:45:54.462377Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:45:54.456271Z&quot;}" data-execution_count="19">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> scrape_screenplay(url):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(url)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    html_string <span class="op">=</span> response.text</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> html_string</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we’re going apply it to the “script_url” column of the DataFrame and create a new column for the resulting extracted text.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:48:32.110994Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:48:30.107028Z&quot;}" data-execution_count="27">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sample_urls[<span class="st">'text'</span>] <span class="op">=</span> sample_urls[<span class="st">'script_url'</span>].<span class="bu">apply</span>(scrape_screenplay)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>SSLError: HTTPSConnectionPool(host='www.hundland.org', port=443): Max retries exceeded with url: /scripts/1492-ConquestOfParadise.txt (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1108)')))</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:45:58.240130Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:45:58.223126Z&quot;}" data-execution_count="21">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sample_urls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>id</th>
      <th>movie_title</th>
      <th>script_url</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>m0</td>
      <td>10 things i hate about you</td>
      <td>http://www.dailyscript.com/scripts/10Things.html</td>
    </tr>
    <tr>
      <th>1</th>
      <td>m1</td>
      <td>1492: conquest of paradise</td>
      <td>http://www.hundland.org/scripts/1492-Conquest...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>m2</td>
      <td>15 minutes</td>
      <td>http://www.dailyscript.com/scripts/15minutes....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>m3</td>
      <td>2001: a space odyssey</td>
      <td>http://www.scifiscripts.com/scripts/2001.txt</td>
    </tr>
    <tr>
      <th>4</th>
      <td>m4</td>
      <td>48 hrs.</td>
      <td>http://www.awesomefilm.com/script/48hours.txt</td>
    </tr>
    <tr>
      <th>5</th>
      <td>m5</td>
      <td>the fifth element</td>
      <td>http://www.scifiscripts.com/scripts/5thelemen...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>m6</td>
      <td>8mm</td>
      <td>http://www.dailyscript.com/scripts/eight-mill...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>m7</td>
      <td>a nightmare on elm street 4: the dream master</td>
      <td>http://www.hundland.org/scripts/A-Nightmare-o...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>m8</td>
      <td>a nightmare on elm street: the dream child</td>
      <td>http://www.hundland.org/scripts/A-Nightmare-o...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>m9</td>
      <td>the atomic submarine</td>
      <td>http://leonscripts.tripod.com/scripts/ATOMICS...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>The DataFrame above is truncated, so we can’t see the full contents of the “text” column. But if we print out every row in the column, we can see that we successfully extracted text for each URL (though some of these URLs returned 404 errors).</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:46:04.073230Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:46:03.302785Z&quot;}" data-scrolled="true" data-tags="[&quot;output_scroll&quot;]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> text <span class="kw">in</span> sample_urls[<span class="st">'text'</span>]:</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(text[:<span class="dv">500</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>KeyError: 'text'</code></pre>
</div>
</div>
</section>
</section>
<section id="web-scraping" class="level2" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="web-scraping"><span class="header-section-number">26.3</span> Web Scraping</h2>
<p>Not all web pages will be as easy to scrape as these screenplay files, however. Let’s say we wanted to scrape the lyrics for Missy Elliott’s song “The Rain (Supa Dupa Fly)” (1997) from Genius.com.</p>
<p><img src="../images/Missy-Elliott.png" class="center" width="700" height="500"></p>
<p>Even at a glance, we can tell that this <em>Genius</em> web page is a lot more complicated than the <em>Ghostbusters</em> page and that it contains a lot of information beyond the lyrics.</p>
<p>Sure enough, if we use our requests library again and try to grab the data for this web page, the underlying data is much more complicated, too.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:51:45.341578Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:51:45.132931Z&quot;}" data-scrolled="true" data-tags="[&quot;output_scroll&quot;,&quot;hide-output&quot;]" data-execution_count="42">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"https://genius.com/Missy-elliott-the-rain-supa-dupa-fly-lyrics"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>html_string <span class="op">=</span> response.text</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(html_string[:<span class="dv">2000</span>] <span class="op">+</span> <span class="st">"..."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Missy&nbsp;Elliott – The Rain (Supa Dupa Fly) Lyrics | Genius Lyrics&lt;/title&gt;

&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;meta content='width=device-width,initial-scale=1' name='viewport'&gt;

  &lt;meta name="apple-itunes-app" content="app-id=709482991"&gt;

&lt;link href="https://assets.genius.com/images/apple-touch-icon.png?1669754445" rel="apple-touch-icon" /&gt;


  

  &lt;link href="https://assets.genius.com/images/apple-touch-icon.png?1669754445" rel="apple-touch-icon" /&gt;

  

  &lt;!-- Mobile IE allows us to activate ClearType technology for smoothing fonts for easy reading --&gt;
  &lt;meta http-equiv="cleartype" content="on"&gt;




&lt;META name="y_key" content="f63347d284f184b0"&gt;

&lt;meta property="og:site_name" content="Genius"/&gt;
&lt;meta property="fb:app_id" content="265539304824" /&gt;
&lt;meta property="fb:pages" content="308252472676410" /&gt;

&lt;link title="Genius" type="application/opensearchdescription+xml" rel="search" href="https://genius.com/opensearch.xml"&gt;

&lt;script&gt;
!function(){if('PerformanceLongTaskTiming' in window){var g=window.__tti={e:[]};
g.o=new PerformanceObserver(function(l){g.e=g.e.concat(l.getEntries())});
g.o.observe({entryTypes:['longtask']})}}();
&lt;/script&gt;


    &lt;!--sse--&gt;

  &lt;script&gt;window['Genius.ads'] = window['Genius.ads'] || [];&lt;/script&gt;



  
  &lt;link as="script" href="https://securepubads.g.doubleclick.net/tag/js/gpt.js" rel="preload" /&gt;&lt;script async="true" src="https://securepubads.g.doubleclick.net/tag/js/gpt.js" type="text/javascript"&gt;&lt;/script&gt;
  &lt;script&gt;
!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");
&lt;/script&gt;

  &lt;link as="script" href="https:/...</code></pre>
</div>
</div>
<p>How can we extract just the song lyrics from this messy soup of a document? Luckily there’s a Python library that can help us called BeautifulSoup, which parses HTML documents.</p>
<p>To understand BeautifulSoup and HTML, we’re going to briefly depart from our Missy Elliot lyrics challenge to consider a much simpler website. This toy website was made by the poet, programmer, and professor Allison Parrish explicitly for the purposes of teaching BeautifulSoup.</p>
</section>
<section id="html" class="level2" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="html"><span class="header-section-number">26.4</span> HTML</h2>
<p>Parrish’s website is titled “Kittens and the TV Shows They Love.” It can be found at the following URL: http://static.decontextualize.com/kittens.html</p>
<p><img src="../images/kittens-web.png" class="center" width="800" height="500"></p>
<p>If we use our requests library on this Kittens TV website, this is what we get:</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"http://static.decontextualize.com/kittens.html"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>html_string <span class="op">=</span> response.text</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(html_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Kittens!&lt;/title&gt;
        &lt;style type="text/css"&gt;
            span.lastcheckup { font-family: "Courier", fixed; font-size: 11px; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;
        &lt;div class="kitten"&gt;
            &lt;h2&gt;Fluffy&lt;/h2&gt;
            &lt;div&gt;&lt;img src="http://placekitten.com/120/120"&gt;&lt;/div&gt;
            &lt;ul class="tvshows"&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="kitten"&gt;
            &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;
            &lt;div&gt;&lt;img src="http://placekitten.com/110/110"&gt;&lt;/div&gt;
            &lt;ul class="tvshows"&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;
                    &lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;

</code></pre>
</div>
</div>
<section id="html-tags" class="level3" data-number="26.4.1">
<h3 data-number="26.4.1" class="anchored" data-anchor-id="html-tags"><span class="header-section-number">26.4.1</span> HTML Tags</h3>
<p>This is an HTML document. HTML stands for HyperText Markup Language. It is the standard language for writing web page documents. The most important thing you need to know about HTML is that the language uses HTML “tags” to represent different elements, such as a main header <code>&lt;h1&gt;</code>.</p>
<table class="table">
<thead>
<tr class="header">
<th>HTML Tag</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;!DOCTYPE&gt;&nbsp;</td>
<td>Defines document type</td>
</tr>
<tr class="even">
<td>&lt;html&gt;</td>
<td>Defines HTML document</td>
</tr>
<tr class="odd">
<td>&lt;head&gt;</td>
<td>Main information about document</td>
</tr>
<tr class="even">
<td>&lt;title&gt;</td>
<td>Title for document</td>
</tr>
<tr class="odd">
<td>&lt;body&gt;</td>
<td>Document body</td>
</tr>
<tr class="even">
<td>&lt;h1&gt; to &lt;h6&gt;</td>
<td>Headings</td>
</tr>
<tr class="odd">
<td>&lt;p&gt;</td>
<td>Paragraph</td>
</tr>
<tr class="even">
<td>&lt;br&gt;</td>
<td>Line break</td>
</tr>
<tr class="odd">
<td>&lt;!--comment here--&gt;</td>
<td>Comment</td>
</tr>
<tr class="even">
<td>&lt;img&gt;</td>
<td>Image</td>
</tr>
<tr class="odd">
<td>&lt;a&gt;</td>
<td>Hyperlink</td>
</tr>
<tr class="even">
<td>&lt;ul&gt;</td>
<td>Unordered list</td>
</tr>
<tr class="odd">
<td>&lt;ol&gt;</td>
<td>Ordered list</td>
</tr>
<tr class="even">
<td>&lt;li&gt;</td>
<td>List item</td>
</tr>
<tr class="odd">
<td>&lt;style&gt;</td>
<td>Style information for a document</td>
</tr>
<tr class="even">
<td>&lt;div&gt;</td>
<td>Section in a document</td>
</tr>
<tr class="odd">
<td>&lt;span&gt;</td>
<td>Section in a document</td>
</tr>
</tbody>
</table>
<p>HTML tags often, but not always, require a “closing” tag. For example, the main header “Kittens and the TV Shows They Love” will be surrounded by <code>&lt;h1&gt;</code> (opening tag) and <code>&lt;/h1&gt;</code> (closing tag) on either side: <code>&lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;</code></p>
</section>
<section id="html-attributes-classes-and-ids" class="level3" data-number="26.4.2">
<h3 data-number="26.4.2" class="anchored" data-anchor-id="html-attributes-classes-and-ids"><span class="header-section-number">26.4.2</span> HTML Attributes, Classes, and IDs</h3>
<p>HTML elements sometimes come with even more information inside a tag. This will often be a keyword (like <code>class</code> or <code>id</code>) followed by an equals sign <code>=</code> and a further descriptor such as <code>&lt;div class="kitten"&gt;</code></p>
<p>We need to know about tags as well as attributes, classes, and IDs because this is how we’re going to extract specific HTML data with BeautifulSoup.</p>
</section>
</section>
<section id="beautifulsoup" class="level2" data-number="26.5">
<h2 data-number="26.5" class="anchored" data-anchor-id="beautifulsoup"><span class="header-section-number">26.5</span> BeautifulSoup</h2>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:01.832698Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:01.680595Z&quot;}" data-execution_count="1">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To make a BeautifulSoup document, we call <code>BeautifulSoup()</code> with two parameters: the <code>html_string</code> from our HTTP request and <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#specifying-the-parser-to-use">the kind of parser</a> that we want to use, which will always be <code>"html.parser"</code> for our purposes.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:25.707988Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:25.025919Z&quot;}" data-execution_count="3">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"http://static.decontextualize.com/kittens.html"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>html_string <span class="op">=</span> response.text</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>document <span class="op">=</span> BeautifulSoup(html_string, <span class="st">"html.parser"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:25.907530Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:25.882526Z&quot;}" data-execution_count="4">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>document</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>&lt;!DOCTYPE html&gt;

&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Kittens!&lt;/title&gt;
&lt;style type="text/css"&gt;
            span.lastcheckup { font-family: "Courier", fixed; font-size: 11px; }
        &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;
&lt;div class="kitten"&gt;
&lt;h2&gt;Fluffy&lt;/h2&gt;
&lt;div&gt;&lt;img src="http://placekitten.com/120/120"/&gt;&lt;/div&gt;
&lt;ul class="tvshows"&gt;
&lt;li&gt;
&lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;
&lt;/div&gt;
&lt;div class="kitten"&gt;
&lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;
&lt;div&gt;&lt;img src="http://placekitten.com/110/110"/&gt;&lt;/div&gt;
&lt;ul class="tvshows"&gt;
&lt;li&gt;
&lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<section id="extract-html-element" class="level3" data-number="26.5.1">
<h3 data-number="26.5.1" class="anchored" data-anchor-id="extract-html-element"><span class="header-section-number">26.5.1</span> Extract HTML Element</h3>
<p>We can use the <code>.find()</code> method to find and extract certain elements, such as a main header.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:28.639552Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:28.629016Z&quot;}" data-execution_count="5">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>document.find(<span class="st">"h1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>&lt;h1&gt;Kittens and the TV Shows They Love&lt;/h1&gt;</code></pre>
</div>
</div>
<p>If we want only the text contained between those tags, we can use <code>.text</code> to extract just the text.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:29.460345Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:29.454941Z&quot;}" data-execution_count="6">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>document.find(<span class="st">"h1"</span>).text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>'Kittens and the TV Shows They Love'</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:30.187867Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:30.178419Z&quot;}" data-execution_count="7">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(document.find(<span class="st">"h1"</span>).text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>str</code></pre>
</div>
</div>
<p>Find the HTML element that contains an image.</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:31.141327Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:31.132094Z&quot;}" data-tags="[&quot;hide-output&quot;]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>document.find(<span class="st">"img"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>&lt;img src="http://placekitten.com/120/120"/&gt;</code></pre>
</div>
</div>
</section>
<section id="extract-multiple-html-elements" class="level3" data-number="26.5.2">
<h3 data-number="26.5.2" class="anchored" data-anchor-id="extract-multiple-html-elements"><span class="header-section-number">26.5.2</span> Extract Multiple HTML Elements</h3>
<p>You can also extract multiple HTML elements at a time with <code>.find_all()</code></p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:34.547532Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:34.538307Z&quot;}" data-execution_count="9">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>document.find_all(<span class="st">"img"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>[&lt;img src="http://placekitten.com/120/120"/&gt;,
 &lt;img src="http://placekitten.com/110/110"/&gt;]</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:34.727376Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:34.716843Z&quot;}" data-tags="[&quot;hide-output&quot;]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>document.find_all(<span class="st">"div"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"kitten"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>[&lt;div class="kitten"&gt;
 &lt;h2&gt;Fluffy&lt;/h2&gt;
 &lt;div&gt;&lt;img src="http://placekitten.com/120/120"/&gt;&lt;/div&gt;
 &lt;ul class="tvshows"&gt;
 &lt;li&gt;
 &lt;a href="http://www.imdb.com/title/tt0106145/"&gt;Deep Space Nine&lt;/a&gt;
 &lt;/li&gt;
 &lt;li&gt;
 &lt;a href="http://www.imdb.com/title/tt0088576/"&gt;Mr. Belvedere&lt;/a&gt;
 &lt;/li&gt;
 &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2014-01-17&lt;/span&gt;
 &lt;/div&gt;,
 &lt;div class="kitten"&gt;
 &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;
 &lt;div&gt;&lt;img src="http://placekitten.com/110/110"/&gt;&lt;/div&gt;
 &lt;ul class="tvshows"&gt;
 &lt;li&gt;
 &lt;a href="http://www.imdb.com/title/tt0106179/"&gt;The X-Files&lt;/a&gt;
 &lt;/li&gt;
 &lt;li&gt;
 &lt;a href="http://www.imdb.com/title/tt0098800/"&gt;Fresh Prince&lt;/a&gt;
 &lt;/li&gt;
 &lt;/ul&gt;
            Last check-up: &lt;span class="lastcheckup"&gt;2013-11-02&lt;/span&gt;
 &lt;/div&gt;]</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:37.016297Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:37.009833Z&quot;}" data-execution_count="11">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>document.find(<span class="st">"h2"</span>).text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>'Fluffy'</code></pre>
</div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T14:11:38.057407Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T14:11:38.047880Z&quot;}" data-execution_count="12">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>document.find_all(<span class="st">"h2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>[&lt;h2&gt;Fluffy&lt;/h2&gt;, &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;]</code></pre>
</div>
</div>
<pre class="{warning}"><code>Heads up! The code below will cause an error.</code></pre>
<p>Let’s try to extract the text from all the header2 elements:</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="70">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>document.find_all(<span class="st">"h2"</span>).text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>AttributeError: ResultSet object has no attribute 'text'. You're probably treating a list of items like a single item. Did you call find_all() when you meant to call find()?</code></pre>
</div>
</div>
<p>Uh oh. That didn’t work! In order to extract text data from multiple HTML elements, we need a <code>for</code> loop and some list-building.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>all_h2_headers <span class="op">=</span> document.find_all(<span class="st">"h2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>all_h2_headers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="128">
<pre><code>[&lt;h2&gt;Fluffy&lt;/h2&gt;, &lt;h2&gt;Monsieur Whiskeurs&lt;/h2&gt;]</code></pre>
</div>
</div>
<p>First we will make an empty list called <code>h2_headers</code>.</p>
<p>Then <code>for</code> each <code>header</code> in <code>all_h2_headers</code>, we will grab the <code>.text</code>, put it into a variable called <code>header_contents</code>, then <code>.append()</code> it to our <code>h2_headers</code> list.</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>h2_headers <span class="op">=</span> []</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> header <span class="kw">in</span> all_h2_headers:</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    header_contents <span class="op">=</span> header.text</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    h2_headers.append(header_contents)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>h2_headers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>['Fluffy', 'Monsieur Whiskeurs']</code></pre>
</div>
</div>
<p>How might we transform this for loop into a <em>list comprehension</em>?</p>
<pre><code>#For Loop
h2_headers = []
for header in all_h2_headers:
    header_contents = header.text
    h2_headers.append(header_contents)</code></pre>
<p><strong>Check out the <em>list comprehension</em> answer here</strong></p>
<div class="cell" data-tags="[&quot;hide-cell&quot;]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>h2_headers <span class="op">=</span> [header.text <span class="cf">for</span> header <span class="kw">in</span> all_h2_headers]</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>h2_headers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>['Fluffy', 'Monsieur Whiskeurs']</code></pre>
</div>
</div>
</section>
</section>
<section id="inspect-html-elements-with-browser" class="level2" data-number="26.6">
<h2 data-number="26.6" class="anchored" data-anchor-id="inspect-html-elements-with-browser"><span class="header-section-number">26.6</span> Inspect HTML Elements with Browser</h2>
<p>Most times if you’re looking to extract something from an HTML document, it’s best to use your “Inspect” capabilities in your web browser. You can hover over elements that you’re interested in and find that specific element in the HTML.</p>
<p><img src="../images/inspect.png" class="center" width="1000" height="600"></p>
<p>For example, if we hover over the main header:</p>
<p><img src="../images/inspect-h1.png" class="center" width="700" height="400"></p>
</section>
<section id="your-turn" class="level2" data-number="26.7">
<h2 data-number="26.7" class="anchored" data-anchor-id="your-turn"><span class="header-section-number">26.7</span> Your Turn!</h2>
<p>Ok so now we’ve learned a little bit about how to use BeautifulSoup to parse HTML documents. So how would we apply what we’ve learned to extract Missy Elliott lyrics?</p>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:49:46.175490Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:49:45.836451Z&quot;}" data-execution_count="31">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"https://genius.com/Missy-elliott-the-rain-supa-dupa-fly-lyrics"</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>html_str <span class="op">=</span> response.text</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>document <span class="op">=</span> BeautifulSoup(html_str, <span class="st">"html.parser"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-executetime="{&quot;end_time&quot;:&quot;2022-12-01T12:50:42.578119Z&quot;,&quot;start_time&quot;:&quot;2022-12-01T12:50:42.569490Z&quot;}" data-scrolled="true" data-tags="[&quot;output_scroll&quot;]" data-execution_count="39">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>document.text[:<span class="dv">1000</span>] <span class="op">+</span> <span class="st">"..."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>"\n\n\nMissy\xa0Elliott – The Rain (Supa Dupa Fly) Lyrics | Genius Lyrics\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFeaturedChartsVideosPromote Your MusicSign UpThe Rain (Supa Dupa Fly)Missy ElliottTrack 4 on\xa0Supa Dupa Fly \xa0“The Rain” is as impressionistic as any lyric in rap; it sets a numinous mood. Furthermore,\n\nthis was Missy Elliott’s first single, and it also spawned her first music… Read More\xa0Produced byTimbalandRelease DateMay 20, 1997View All Credits\xa01115.2K446The Rain (Supa Dupa Fly) Lyrics[Intro: Missy Elliott, Ann Peebles &amp; Timbaland]Run the trackMe, I'm supa flySupa-dupa fly, supa-dupa fly (I can't stand the rain)Me, I'm supa fly (Against my window)Supa-dupa fly, supa-dupa fly (I can't stand the rain)Me, I'm supa fly (Against my window)Supa-dupa fly, supa-dupa fly (I can't stand the rain)Me, I'm supa fly (Against my window)[Verse 1: Missy Elliott]When the rain hits my windowI take and *inhale, cough* me some indoMe and Timbaland, ooh, we sang a jangleWe so tigh..."</code></pre>
</div>
</div>
<p>https://genius.com/Missy-elliott-the-rain-supa-dupa-fly-lyrics</p>
<p>What HTML element do we need to “find” to extract the song lyrics?</p>
<p><strong>Check answer here</strong></p>
<div class="cell" data-tags="[&quot;output_scroll&quot;,&quot;hide-cell&quot;]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>missy_lyrics <span class="op">=</span> document.find(<span class="st">"p"</span>).text</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missy_lyrics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[Intro: Missy Elliott &amp; Timbaland]
[*Yawning*]
Run the track

[Chorus: Missy Elliott &amp; Ann Peebles]
Me I'm super fly, super dupa fly
(I can't stand the rain) Supa dupa fly
Me I'm super fly, (against my window) super dupa fly
(I can't stand the rain) supa dupa fly
Me I'm super fly, (against my window) super dupa fly
(I can't stand the rain) supa dupa fly
Me I'm super fly, (against my window)

[Verse 1: Missy Elliott]
When the rain hits my window
I take and *cough* me some indo
Me and Timbaland, ooh, we sang a jangle
We so tight that you get our styles tangled
Sway on dosie-do like you loco
Can we get kinky tonight?
Like Coko, so-so
You don't wanna play with my Yo-Yo
I smoke my hydro on the D-low (D-D-D-D-D-low)

[Hook: Ann Peebles]
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain

[Verse 2: Missy Elliott]
Beep, beep, who got the keys to the Jeep, vroom
I'm driving to the beach
Top down, loud sounds, see my peeps
Give them pounds, now look who it be
It be me, me, me and Timothy
Look like it's 'bout to rain, what a shame
I got the Armor-All to shine up the stain
Oh, Missy, try to maintain
Icky-icky-icky-icky-icky-icky-icky

[Hook: Ann Peebles]
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain

[Verse 3: Missy Elliott &amp; Ann Peebles]
I feel the wind
5, 6, 7, 8, 9, 10
9, 10
Begin, I sit on Hills like Lauryn
Until the rain starts coming down, pouring
Chill, I got my umbrella
My finger waves these days, they fall like Humpty
Chumpy, I break up with him before he dump me
To have me, (I can't stand the rain), yes, you lucky (against my window)

[Outro: Ann Peebles]
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain
I can't stand the rain
I can't stand the rain
I can't stand the rain
I can't stand the rain against my window
I can't stand the rain against my window
I I can't stand the rain against my window
I can't stand the rain against my window
I can't stand the rain
I can't stand the rain
I can't stand the rain
I can't stand the rain</code></pre>
</div>
</div>
<p>What HTML element do we need to “find” to extract the title?</p>
<p><strong>Check answer here</strong></p>
<div class="cell" data-tags="[&quot;hide-cell&quot;]" data-execution_count="23">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>song_title <span class="op">=</span> document.find(<span class="st">'h1'</span>).text</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(song_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The Rain (Supa Dupa Fly)</code></pre>
</div>
</div>
<p>If there is anything wrong, please open <a href="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide/issues">an issue on GitHub</a> or email f.pianzola@rug.nl</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../code/09-User-Ethics-Legal-Concerns.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Users’ Data: Legal &amp; Ethical Considerations</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Web Scraping Part 1 — Workbook</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Cultural Analytics Open Science Guide</div>   
    <div class="nav-footer-right">powered by <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Melanie Walsh">

<title>Cultural Analytics Open Science Guide - 27&nbsp; Web Scraping — Part 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../code/11.5-Web-Scraping-Part2-WORKBOOK.ipynb" rel="next">
<link href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Web Scraping — Part 2</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../" class="sidebar-logo-link">
      <img src="../images/dh_gro_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Cultural Analytics Open Science Guide</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="" title="Personal account" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-person-fill"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://signon.rug.nl/nidp/app/login?id=100&amp;sid=2&amp;option=credential&amp;sid=2">
          Login to your student account
          </a>
        </li>
    </ul>
    <a href="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://www.rug.nl/research/research-let/expertisecentra/centre-for-digital-humanities/" title="Center for Digital Humanities - University of Groningen" class="sidebar-tool px-1"><i class="bi bi-house"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/00-Datasets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Datasets</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/version_control.html" class="sidebar-item-text sidebar-link">Version Control</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/01-The-Command-Line.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Command Line</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/README_file.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">README file</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-workflow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">General Workflow of a Vercion Control System (VCS)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/set-up-git-and-github.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">What are Git and GitHub?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-commit.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The <code>git commit</code> Command</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-compare.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Retrieving and Comparing Versions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-branches.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Branches and Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-merge.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Merging Branches in Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-interactive.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Interactive, Visual Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/github-flow.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Github</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-github.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Git Commands to Work on GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/the-clone-wars.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">The Clone Wars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-git-summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Git Summary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/vcs-data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Version Control for Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/02-Data-Analysis.html" class="sidebar-item-text sidebar-link">Data Analysis (Pandas)</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/03-Pandas-Basics-Part1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/03.5-Pandas-Basics-Part1-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Pandas Basics Part 1 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/04-Pandas-Basics-Part2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/04.5-Pandas-Basics-Part2-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Pandas Basics Part 2 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/05-Pandas-Basics-Part3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Pandas Basics — Part 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/05.5-Pandas-Basics-Part3-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Pandas Basics Part 3 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/06-Pandas-Basics-More-Methods-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Pandas Basics — More Useful Methods — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/07-Pandas-Merge-Datasets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Pandas — Merge Datasets</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../code/08-Data-Collection.html" class="sidebar-item-text sidebar-link">Data Collection</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/09-User-Ethics-Legal-Concerns.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Users’ Data: Legal &amp; Ethical Considerations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/10-Web-Scraping-Part1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Web Scraping — Part 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Web Scraping Part 1 — Workbook</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/11-Web-Scraping-Part2.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Web Scraping — Part 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/13-What-Is-API.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Application Programming Interfaces (APIs)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/13.5-APIs-WORKBOOK.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">APIs — Workbook</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Data collection examples</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/14-Song-Genius.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Song Genius Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/15-Genius-API.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Song Genius API</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/16-Collect-Genius-Lyrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Song Lyrics Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/17-Lyrics-Analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Song Lyrics Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/18-Twitter.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Twitter Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/19-Twitter-API-Setup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Twitter API Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/20-Twitter-Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Twitter Data Collection &amp; Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/21-Twitter-Data-Sharing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Twitter Data Sharing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/22-Reddit-Data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Reddit Data Collection and Analysis with PSAW</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Exploratory Data Analysis (in-depth)</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/23-Data-Types-and-Quality.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Data Types and Quality of the Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/24-Changing-Numerical-Variable-Data-Types.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Tips for recognizing the data types</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/25-Changing-Categorical-Variable-Data-Type.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Categorical Variable Data Type</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/26-Data-Information.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Data Information</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/27-EDA-Summary-Statistics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis and Summary Statistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../code/28-Association-Between-Variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Association between variables</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#regular-expressions" id="toc-regular-expressions" class="nav-link active" data-scroll-target="#regular-expressions"><span class="toc-section-number">27.1</span>  Regular Expressions</a>
  <ul>
  <li><a href="#import-regular-expressions-library" id="toc-import-regular-expressions-library" class="nav-link" data-scroll-target="#import-regular-expressions-library"><span class="toc-section-number">27.1.1</span>  Import Regular Expressions Library</a></li>
  <li><a href="#replace-with-regex" id="toc-replace-with-regex" class="nav-link" data-scroll-target="#replace-with-regex"><span class="toc-section-number">27.1.2</span>  Replace with Regex</a></li>
  </ul></li>
  <li><a href="#special-regex-characters" id="toc-special-regex-characters" class="nav-link" data-scroll-target="#special-regex-characters"><span class="toc-section-number">27.2</span>  Special RegEx Characters</a></li>
  <li><a href="#compile-pattern" id="toc-compile-pattern" class="nav-link" data-scroll-target="#compile-pattern"><span class="toc-section-number">27.3</span>  Compile Pattern</a></li>
  <li><a href="#search-for-pattern" id="toc-search-for-pattern" class="nav-link" data-scroll-target="#search-for-pattern"><span class="toc-section-number">27.4</span>  Search for Pattern</a></li>
  <li><a href="#find-all-instances-of-pattern" id="toc-find-all-instances-of-pattern" class="nav-link" data-scroll-target="#find-all-instances-of-pattern"><span class="toc-section-number">27.5</span>  Find All Instances of Pattern</a></li>
  <li><a href="#match-before-a-certain-string" id="toc-match-before-a-certain-string" class="nav-link" data-scroll-target="#match-before-a-certain-string"><span class="toc-section-number">27.6</span>  Match Before a Certain String</a></li>
  <li><a href="#backslash-escape-characters" id="toc-backslash-escape-characters" class="nav-link" data-scroll-target="#backslash-escape-characters"><span class="toc-section-number">27.7</span>  Backslash Escape Characters</a></li>
  <li><a href="#strip-leading-and-trailing-whitespace" id="toc-strip-leading-and-trailing-whitespace" class="nav-link" data-scroll-target="#strip-leading-and-trailing-whitespace"><span class="toc-section-number">27.8</span>  Strip Leading and Trailing Whitespace</a></li>
  <li><a href="#build-functions-and-put-it-all-together" id="toc-build-functions-and-put-it-all-together" class="nav-link" data-scroll-target="#build-functions-and-put-it-all-together"><span class="toc-section-number">27.9</span>  Build Functions and Put It All Together</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn"><span class="toc-section-number">27.10</span>  Your Turn!</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Web Scraping — Part 2</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source" data-quarto-source-url="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Melanie Walsh </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p>In this lesson, we’re going to learn more about scraping data with the Python libraries requests and BeautifulSoup. We’re also going to introduce <em>regular expressions</em>, which will help us extract and clean data in a more fine-grained way.</p>
<p>We will cover how to:</p>
<ul>
<li>Programmatically access the text of a web page</li>
<li>Extract certain HTML elements</li>
<li>Extract and clean data with regular expressions</li>
</ul>
<p>Our goal for this lesson is to build a web scraping function called <code>get_all_songs_from_album</code> which will get all the song titles from any album on Genius.com.</p>
<hr>
<p><strong>Import Requests and BeautifulSoup</strong></p>
<p>We’re again going to use the <code>requests</code> library and the <code>BeautifulSoup</code> library to scrape our list of album songs.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="../images/Missy-Under-Construction.png" class="center" width="700" height="400"></p>
<p>The first album that we’re going to scrape is Missy Elliott’s “Under Construction” (2002), which debuted at No.&nbsp;3 on The Billboard Top 200 charts.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> IFrame</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>IFrame(<span class="st">"https://www.youtube.com/embed/cjIvu7e6Wq8?start=31"</span>, width<span class="op">=</span><span class="st">'500'</span>, height<span class="op">=</span><span class="st">'400'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

        <iframe width="500" height="400" src="https://www.youtube.com/embed/cjIvu7e6Wq8?start=31" frameborder="0" allowfullscreen=""></iframe>
        
</div>
</div>
<p><strong>Get HTML Data and Extract Text</strong></p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">"https://genius.com/albums/Missy-elliott/Under-construction"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>html_string <span class="op">=</span> response.text</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Transform into BeautifulSoup Document</strong></p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>document <span class="op">=</span> BeautifulSoup(html_string, <span class="st">"html.parser"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Your Turn!</strong></p>
<p>We want to extract just the song titles from Missy Elliott’s album “Under Construction.” Turn on your web browser’s “Inspect” function and find the HTML tag associated with each song title.</p>
<p><a href="https://genius.com/albums/Missy-elliott/Under-construction">https://genius.com/albums/Missy-elliott/Under-construction</a></p>
<p>Select “Click to show” to see the answer.</p>
<div class="cell" data-tags="[&quot;output_scroll&quot;,&quot;hide-cell&quot;]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>song_title_tags <span class="op">=</span> document.find_all(<span class="st">"h3"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>song_title_tags</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>[&lt;h3 class="chart_row-content-title"&gt;
               Intro/Go To The Floor
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Bring the Pain (Ft.&nbsp;Method&nbsp;Man)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Gossip Folks (Ft.&nbsp;Ludacris)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Work It
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Back in the Day (Ft.&nbsp;JAY-Z)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Funky Fresh Dressed (Ft.&nbsp;Ms.&nbsp;Jade)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Pussycat
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Nothing Out There for Me (Ft.&nbsp;Beyoncé)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Slide
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Play That Beat
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Ain't That Funny
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Hot
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Can You Hear Me (Ft.&nbsp;TLC)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="chart_row-content-title"&gt;
               Work It (Remix) (Ft.&nbsp;50&nbsp;Cent)
               &lt;span class="chart_row-content-title-subtitle"&gt;Lyrics&lt;/span&gt;
 &lt;/h3&gt;,
 &lt;h3 class="annotation_label"&gt;Does this album have any certifications?&lt;/h3&gt;,
 &lt;h3 class="annotation_label"&gt;How did this album chart?&lt;/h3&gt;,
 &lt;h3&gt;ICONOLOGY&lt;/h3&gt;,
 &lt;h3&gt;Misdemeanor&lt;/h3&gt;]</code></pre>
</div>
</div>
<p>Now write a <code>for</code> loop that extracts the text from each song title tag and <code>.appends()</code> it to a list called <code>song_titles</code>:</p>
<div class="cell" data-tags="[&quot;hide_input&quot;]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>song_titles <span class="op">=</span> []</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> song <span class="kw">in</span> song_title_tags:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    song_title_missy <span class="op">=</span> song.text</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    song_titles.append(song_title_missy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>song_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>['\n              Intro/Go To The Floor\n              Lyrics\n',
 '\n              Bring the Pain (Ft.\xa0Method\xa0Man)\n              Lyrics\n',
 '\n              Gossip Folks (Ft.\xa0Ludacris)\n              Lyrics\n',
 '\n              Work It\n              Lyrics\n',
 '\n              Back in the Day (Ft.\xa0JAY-Z)\n              Lyrics\n',
 '\n              Funky Fresh Dressed (Ft.\xa0Ms.\xa0Jade)\n              Lyrics\n',
 '\n              Pussycat\n              Lyrics\n',
 '\n              Nothing Out There for Me (Ft.\xa0Beyoncé)\n              Lyrics\n',
 '\n              Slide\n              Lyrics\n',
 '\n              Play That Beat\n              Lyrics\n',
 "\n              Ain't That Funny\n              Lyrics\n",
 '\n              Hot\n              Lyrics\n',
 '\n              Can You Hear Me (Ft.\xa0TLC)\n              Lyrics\n',
 '\n              Work It (Remix) (Ft.\xa050\xa0Cent)\n              Lyrics\n',
 'Does this album have any certifications?',
 'How did this album chart?',
 'ICONOLOGY',
 'Misdemeanor']</code></pre>
</div>
</div>
<p>Now transform that same <code>for</code> loop into a list comprehension.</p>
<div class="cell" data-tags="[&quot;hide_input&quot;]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>missy_song_titles <span class="op">=</span> [song.text <span class="cf">for</span> song <span class="kw">in</span> song_title_tags]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>missy_song_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>['\n              Intro/Go To The Floor\n              Lyrics\n',
 '\n              Bring the Pain (Ft.\xa0Method\xa0Man)\n              Lyrics\n',
 '\n              Gossip Folks (Ft.\xa0Ludacris)\n              Lyrics\n',
 '\n              Work It\n              Lyrics\n',
 '\n              Back in the Day (Ft.\xa0JAY-Z)\n              Lyrics\n',
 '\n              Funky Fresh Dressed (Ft.\xa0Ms.\xa0Jade)\n              Lyrics\n',
 '\n              Pussycat\n              Lyrics\n',
 '\n              Nothing Out There for Me (Ft.\xa0Beyoncé)\n              Lyrics\n',
 '\n              Slide\n              Lyrics\n',
 '\n              Play That Beat\n              Lyrics\n',
 "\n              Ain't That Funny\n              Lyrics\n",
 '\n              Hot\n              Lyrics\n',
 '\n              Can You Hear Me (Ft.\xa0TLC)\n              Lyrics\n',
 '\n              Work It (Remix) (Ft.\xa050\xa0Cent)\n              Lyrics\n',
 'Does this album have any certifications?',
 'How did this album chart?',
 'ICONOLOGY',
 'Misdemeanor']</code></pre>
</div>
</div>
<p>Are there things in your list that aren’t song titles? If so, use <code>.find_all()</code> with more specific HTML attributes <code>attrs={}</code></p>
<div class="cell" data-execution_count="303">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>song_title_tags <span class="op">=</span> document.find_all(<span class="st">"h3"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"chart_row-content-title"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[&quot;hide_input&quot;]" data-execution_count="50">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a> missy_song_titles</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>['\n              Intro/Go To The Floor\n              Lyrics\n',
 '\n              Bring the Pain (Ft.\xa0Method\xa0Man)\n              Lyrics\n',
 '\n              Gossip Folks (Ft.\xa0Ludacris)\n              Lyrics\n',
 '\n              Work It\n              Lyrics\n',
 '\n              Back in the Day (Ft.\xa0JAY-Z)\n              Lyrics\n',
 '\n              Funky Fresh Dressed (Ft.\xa0Ms.\xa0Jade)\n              Lyrics\n',
 '\n              Pussycat\n              Lyrics\n',
 '\n              Nothing Out There for Me (Ft.\xa0Beyoncé)\n              Lyrics\n',
 '\n              Slide\n              Lyrics\n',
 '\n              Play That Beat\n              Lyrics\n',
 "\n              Ain't That Funny\n              Lyrics\n",
 '\n              Hot\n              Lyrics\n',
 '\n              Can You Hear Me (Ft.\xa0TLC)\n              Lyrics\n',
 '\n              Work It (Remix) (Ft.\xa050\xa0Cent)\n              Lyrics\n',
 '\n              Pepsi Super Bowl XLIX Halftime Show by\xa0NFL (Ft.\xa0Katy\xa0Perry, Lenny\xa0Kravitz &amp; Missy\xa0Elliott)\n              Lyrics\n']</code></pre>
</div>
</div>
<section id="regular-expressions" class="level2" data-number="27.1">
<h2 data-number="27.1" class="anchored" data-anchor-id="regular-expressions"><span class="header-section-number">27.1</span> Regular Expressions</h2>
<p>Great! Now we have have our list of song titles from Missy Elliot’s album “Under Construction.” But if you notice, these song titles are pretty messy, and we need to clean them up.</p>
<p>To do so, we’re going to use built-in string methods and a Python library called <code>re</code>, short for regular expressions.</p>
<p>Regular expressions are basically like a very sophisticated find-and-replace. Regular expression are not exclusive to Python and are used in many programming languages as well as in search engines, text editors, and word processors.</p>
<section id="import-regular-expressions-library" class="level3" data-number="27.1.1">
<h3 data-number="27.1.1" class="anchored" data-anchor-id="import-regular-expressions-library"><span class="header-section-number">27.1.1</span> Import Regular Expressions Library</h3>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To practice with regular expressions, we’re going to use a sample messy song title from our messy song titles list.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sample_song <span class="op">=</span> <span class="st">"</span><span class="ch">\n</span><span class="st">              Back in the Day (Ft.</span><span class="ch">\xa0</span><span class="st">JAY-Z)</span><span class="ch">\n</span><span class="st">              Lyrics</span><span class="ch">\n</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Replace with Python String Method</strong></p>
<p>Remember the string method <code>.replace()</code>? With this built-in string method, we can easily get rid of the new line characters <code>\n</code> or the word “Lyrics” from our <code>sample_song</code>, which is very useful.</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="54">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sample_song.replace(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>'              Back in the Day (Ft.\xa0JAY-Z)              Lyrics'</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="291">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sample_song.replace(<span class="st">"Lyrics"</span>, <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="291">
<pre><code>'\n              Back in the Day (Ft.\xa0JAY-Z)\n              \n'</code></pre>
</div>
</div>
</section>
<section id="replace-with-regex" class="level3" data-number="27.1.2">
<h3 data-number="27.1.2" class="anchored" data-anchor-id="replace-with-regex"><span class="header-section-number">27.1.2</span> Replace with Regex</h3>
<p>However, with regular expressions, we can replace strings with even more power and flexibility.</p>
<p>To replace a string with regular expressions, we use <code>re.sub(old_pattern, new_pattern, text_that_contains_pattern)</code>. We can do exactly the same thing that we did with the built-in string method <code>.replace()</code>.</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="83">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sample_song</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>'\n              Back in the Day (Ft.\xa0JAY-Z)\n              Lyrics\n'</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="294">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>re.sub(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>, <span class="st">""</span>, sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="294">
<pre><code>'              Back in the Day (Ft.\xa0JAY-Z)              Lyrics'</code></pre>
</div>
</div>
</section>
</section>
<section id="special-regex-characters" class="level2" data-number="27.2">
<h2 data-number="27.2" class="anchored" data-anchor-id="special-regex-characters"><span class="header-section-number">27.2</span> Special RegEx Characters</h2>
<p>But regular expressions have certain characters with special pattern-matching powers, which is what allows us to do more cleaning, manipulating, and searching than with basic string methods. Below are some of the special regular expression characters.</p>
<table class="table">
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Regular Expression Pattern</th>
<th style="text-align: center;">Matches</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>.</code></td>
<td style="text-align: center;">any character</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>\w</code></td>
<td style="text-align: center;">word</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>\W</code></td>
<td style="text-align: center;">NOT word</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>\d</code></td>
<td style="text-align: center;">digit</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>\D</code></td>
<td style="text-align: center;">NOT digit</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>\s</code></td>
<td style="text-align: center;">whitespace</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>\S</code></td>
<td style="text-align: center;">NOT whitespace</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>[abc]</code></td>
<td style="text-align: center;">Any of abc</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>[^abc]</code></td>
<td style="text-align: center;">Not any of abc</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>(abc)</code></td>
<td style="text-align: center;">Specific capture of “abc”</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>+</code></td>
<td style="text-align: center;">1 or more instances</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>*</code></td>
<td style="text-align: center;">0 or more instances</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>?</code></td>
<td style="text-align: center;">0 or 1 instance</td>
</tr>
</tbody>
</table>
<p>You can explore and experiment with regular expression characters and combinations at <a href="https://regexr.com/4vhf1">Regexr.com</a>.</p>
<p>We can replace anything that is not a word <code>\W</code> with ” “:</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="88">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>re.sub(<span class="st">"\W"</span>, <span class="st">" "</span>, sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>'               Back in the Day  Ft  JAY Z                Lyrics '</code></pre>
</div>
</div>
<p>Replace anything that is a word <code>\w</code> with ” “:</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="90">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>re.sub(<span class="st">"\w"</span>, <span class="st">" "</span>, sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="90">
<pre><code>'\n                              (  .\xa0   - )\n                    \n'</code></pre>
</div>
</div>
<p>The character <code>+</code> means “match one or more instance” of the pattern, which allows us to remove multiple not word patterns in a row.</p>
<div class="cell" data-execution_count="295">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>re.sub(<span class="st">"\W+"</span>, <span class="st">" "</span>, sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="295">
<pre><code>' Back in the Day Ft JAY Z Lyrics '</code></pre>
</div>
</div>
</section>
<section id="compile-pattern" class="level2" data-number="27.3">
<h2 data-number="27.3" class="anchored" data-anchor-id="compile-pattern"><span class="header-section-number">27.3</span> Compile Pattern</h2>
<p>An efficient way to build and save a regular expression pattern is with <code>re.compile()</code></p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="244">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>not_word_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">"\W+"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>re.sub(not_word_pattern, <span class="st">" "</span>, sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="244">
<pre><code>' Back in the Day Ft JAY Z Lyrics '</code></pre>
</div>
</div>
</section>
<section id="search-for-pattern" class="level2" data-number="27.4">
<h2 data-number="27.4" class="anchored" data-anchor-id="search-for-pattern"><span class="header-section-number">27.4</span> Search for Pattern</h2>
<p>In addition to replacing text, we can also find and return text. With <code>re.search()</code>, we can find and return any particular pattern. The <code>re.search()</code> function returns something called a “match object,” which we can access with <code>.group()</code>.</p>
<p>For example, searching with the pattern <code>\w+</code> will return the very first word in <code>sample_song</code>:</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="117">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>word_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">"\w+"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>word_pattern.search(sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>&lt;re.Match object; span=(15, 19), match='Back'&gt;</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="112">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>word_pattern.search(sample_song).group(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="112">
<pre><code>'Back'</code></pre>
</div>
</div>
</section>
<section id="find-all-instances-of-pattern" class="level2" data-number="27.5">
<h2 data-number="27.5" class="anchored" data-anchor-id="find-all-instances-of-pattern"><span class="header-section-number">27.5</span> Find All Instances of Pattern</h2>
<p>The function <code>re.findall()</code> will return a list of every instance of a particular pattern.</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="127">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>word_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">"\w+"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>word_pattern.findall(sample_song)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="127">
<pre><code>['Back', 'in', 'the', 'Day', 'Ft', 'JAY', 'Z', 'Lyrics']</code></pre>
</div>
</div>
<p>When you combine special regular expression characters, you can make your pattern matching very specific and very powerful. If we had a document that contains a bunch of email addresses, we could use the pattern <code>[\w.]+@[\w.]+</code> to find and extract the words that appear on other side of the <code>@</code> character, aka <a href="https://regexr.com/4vhfa">find and extract all the email addresses</a>.</p>
<div class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>text_with_emails <span class="op">=</span> <span class="st">"The important email addresses are important@cool.com, signficant@sweet.org"</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>extracted_emails <span class="op">=</span> re.findall(<span class="st">'[\w.]+@[\w.]+'</span>, text_with_emails)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="192">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>extracted_emails</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="192">
<pre><code>['important@cool.com', 'signficant@sweet.org']</code></pre>
</div>
</div>
</section>
<section id="match-before-a-certain-string" class="level2" data-number="27.6">
<h2 data-number="27.6" class="anchored" data-anchor-id="match-before-a-certain-string"><span class="header-section-number">27.6</span> Match Before a Certain String</h2>
<p>For our song titles, we might want to <a href="regexr.com/4vhfg">extract everything that comes before “(Ft.)”</a> because we don’t care as much about the featured artists, and because the featured artists makes the song titles really long. To match everything that comes before a certain string, we can use the pattern <code>.*(?=desired_pattern)</code> which matches 0 or more <code>*</code> of any character <code>.</code> that comes before <code>(?=)</code> the string “desired_pattern.”</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="276">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>before_ft_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">".*(?=Ft)"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>before_ft_pattern.search(sample_song).group(<span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="276">
<pre><code>'              Back in the Day ('</code></pre>
</div>
</div>
</section>
<section id="backslash-escape-characters" class="level2" data-number="27.7">
<h2 data-number="27.7" class="anchored" data-anchor-id="backslash-escape-characters"><span class="header-section-number">27.7</span> Backslash Escape Characters</h2>
<p>Nice! We got everything before the featured artist. Well, almost. We still have a weird, lingering open parentheses. That’s because we were matching “Ft” not “(Ft”. Let’s match everything before “(Ft” instead.</p>
<p>To do so, we’re going to have to make a slight adjustment. Remember that parentheses <code>()</code> are special regular expression characters. To make clear that we mean a literal parentheses and not a special regular expression character, we have to use an escape backslash <code>\</code> before the character.</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="277">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>before_ft_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">".*(?=\(Ft)"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>clean_sample_song_title <span class="op">=</span> before_ft_pattern.search(sample_song).group(<span class="dv">0</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>clean_sample_song_title </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="277">
<pre><code>'              Back in the Day '</code></pre>
</div>
</div>
</section>
<section id="strip-leading-and-trailing-whitespace" class="level2" data-number="27.8">
<h2 data-number="27.8" class="anchored" data-anchor-id="strip-leading-and-trailing-whitespace"><span class="header-section-number">27.8</span> Strip Leading and Trailing Whitespace</h2>
<p>The last thing we’ll do to clean up our song title is to use the built-in string method <code>.strip()</code> which strips leading and trailing whitespace.</p>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="260">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>clean_sample_song_title.strip()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="260">
<pre><code>'Back in the Day'</code></pre>
</div>
</div>
</section>
<section id="build-functions-and-put-it-all-together" class="level2" data-number="27.9">
<h2 data-number="27.9" class="anchored" data-anchor-id="build-functions-and-put-it-all-together"><span class="header-section-number">27.9</span> Build Functions and Put It All Together</h2>
<p>Let’s put all this cleaning together in a function called <code>clean_up</code>. It will match and strip everything before “(Ft.)” if the song title contains a featured artist, and it will remove the word “Lyrics” and strip whitespace if the song title does not contain “(Ft.)”.</p>
<div class="cell" data-execution_count="306">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_up(song_title):</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">"Ft"</span> <span class="kw">in</span> song_title:</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        before_ft_pattern <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">".*(?=\(Ft)"</span>)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        song_title_before_ft <span class="op">=</span> before_ft_pattern.search(song_title).group(<span class="dv">0</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>        clean_song_title <span class="op">=</span> song_title_before_ft.strip()</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        song_title_no_lyrics <span class="op">=</span> song_title.replace(<span class="st">"Lyrics"</span>, <span class="st">""</span>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        clean_song_title <span class="op">=</span> song_title_no_lyrics.strip()</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> clean_song_title</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="307">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>[clean_up(song) <span class="cf">for</span> song <span class="kw">in</span> missy_song_titles]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="307">
<pre><code>['Intro/Go To The Floor',
 'Bring the Pain',
 'Gossip Folks',
 'Work It',
 'Back in the Day',
 'Funky Fresh Dressed',
 'Pussycat',
 'Nothing Out There for Me',
 'Slide',
 'Play That Beat',
 "Ain't That Funny",
 'Hot',
 'Can You Hear Me',
 'Work It (Remix)',
 'Pepsi Super Bowl XLIX Halftime Show by\xa0NFL']</code></pre>
</div>
</div>
<p>We were able to extract the song titles for Missy Elliott’s album “Under Construction.” Success! But now we want to make a function that can do the same thing for any artist and album title.</p>
<p>Take a look at <a href="https://genius.com/albums/Beyonce/Lemonade">Beyonce’s album “Lemonade”</a> on Genius.com and see how the web page compares to Missy Elliott’s “Under Construction.” They look extremely similar, right? Because all Genius album pages are identical, we can use the same code that we did for Missy Elliott and just substitute in different artist and album names with an f-string for the Genius URL:</p>
<p><code>f"https://genius.com/albums/{artist}/{album_name}"</code></p>
<div class="cell" data-execution_count="308">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_all_songs_from_album(artist, album_name):</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    artist <span class="op">=</span> artist.replace(<span class="st">" "</span>, <span class="st">"-"</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    album_name <span class="op">=</span> album_name.replace(<span class="st">" "</span>, <span class="st">"-"</span>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(<span class="ss">f"https://genius.com/albums/</span><span class="sc">{</span>artist<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>album_name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    html_string <span class="op">=</span> response.text</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    document <span class="op">=</span> BeautifulSoup(html_string, <span class="st">"html.parser"</span>)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    song_title_tags <span class="op">=</span> document.find_all(<span class="st">"h3"</span>, attrs<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"chart_row-content-title"</span>})</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    song_titles <span class="op">=</span> [song_title.text <span class="cf">for</span> song_title <span class="kw">in</span> song_title_tags]</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    clean_songs <span class="op">=</span> []</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> song_title <span class="kw">in</span> song_titles:</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>        clean_song <span class="op">=</span> clean_up(song_title)</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>        clean_songs.append(clean_song)</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> clean_songs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="309">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>get_all_songs_from_album(<span class="st">'Beyonce'</span>, <span class="st">'Lemonade'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="309">
<pre><code>['Pray You Catch Me',
 'Hold Up',
 "Don't Hurt Yourself",
 'Sorry',
 '6 Inch',
 'Daddy Lessons',
 'Love Drought',
 'Sandcastles',
 'Forward',
 'Freedom',
 'All Night',
 'Formation',
 'Sorry (Original Demo)',
 'Lemonade Film (Script)']</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="310">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>get_all_songs_from_album(<span class="st">'Taylor Swift'</span>, <span class="st">'Red'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="310">
<pre><code>['State of Grace',
 'Red',
 'Treacherous',
 'I Knew You Were Trouble',
 'All Too Well',
 '22',
 'I Almost Do',
 'We Are Never Ever Getting Back Together',
 'Stay Stay Stay',
 'The Last Time',
 'Holy Ground',
 'Sad Beautiful Tragic',
 'The Lucky One',
 'Everything Has Changed',
 'Starlight',
 'Begin Again',
 'I Knew You Were Trouble (Intro)']</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="311">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>get_all_songs_from_album(<span class="st">'Mitski'</span>, <span class="st">'Be The Cowboy'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="311">
<pre><code>['Geyser',
 "Why Didn't You Stop Me?",
 'Old Friend',
 'A Pearl',
 'Lonesome Love',
 'Remember My Name',
 'Me and My Husband',
 'Come Into the Water',
 'Nobody',
 'Pink in the Night',
 'A Horse Named Cold Air',
 'Washing Machine Heart',
 'Blue Light',
 'Two Slow Dancers']</code></pre>
</div>
</div>
</section>
<section id="your-turn" class="level2" data-number="27.10">
<h2 data-number="27.10" class="anchored" data-anchor-id="your-turn"><span class="header-section-number">27.10</span> Your Turn!</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>get_all_songs_from_album(<span class="st">'#Your Choice of Artist'</span>, <span class="st">'#Your Choice of Album'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If there is anything wrong, please open <a href="https://github.com/GroningenDH/Cultural-Analytics-Open-Science-Guide/issues">an issue on GitHub</a> or email f.pianzola@rug.nl</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../code/10.5-Web-Scraping-Part1-WORKBOOK.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Web Scraping Part 1 — Workbook</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../code/11.5-Web-Scraping-Part2-WORKBOOK.ipynb" class="pagination-link">
        <span class="nav-page-text"></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Cultural Analytics Open Science Guide</div>   
    <div class="nav-footer-right">powered by <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>